(()=>{"use strict";const e=e=>e.isIntersecting,t=e=>{const t=e.target,r=t.querySelector("img"),c=r.dataset.src;r.src=c,n.unobserve(t)},n=new IntersectionObserver((n=>{n.filter(e).forEach(t)}),{root:null,rootMargin:"0px",threshold:.8}),r=document.getElementById("app"),c="https://platzi-avo.vercel.app";window.fetch(`${c}/api/avo`).then((e=>e.json())).then((e=>{const t=[];e.data.forEach((e=>{const r=document.createElement("h2");r.textContent=e.name;const a=document.createElement("img");a.dataset.src=`${c}${e.image}`,a.alt=e.name;const o=document.createElement("span");var s;o.textContent=(s=e.price,new Intl.NumberFormat("en-EN",{style:"currency",currency:"USD"}).format(s));const m=document.createElement("div");var l;m.append(r,a,o),t.push(m),l=m,n.observe(l)})),r.append(...t)}))})();